CREATE DATABASE CampingGroundGroup1
GO
USE CampingGroundGroup1
GO
CREATE TABLE Gears0,1) NOT NULL PRIMARY KEY,
Description VARCHAR(MAX),
Price FLOAT,
Name VARCHAR(MAX)
)

CREATE TABLE RentalType
(
RentalTypeID int IDENTITY(0,1) NOT NULL PRIMARY KEY,
Description  VARCHAR(MAX) NOT NULL
)

CREATE TABLE RentalUnit
(
RentalUnitID int IDENTITY(0,1) NOT NULL PRIMARY KEY,
LocationID int NOT NULL,
Area VARCHAR(3) NOT NULL,
Price FLOAT,
Deposit FLOAT,
Available BIT,
NumberOfBeds int,
RentalTypeID INT FOREIGN KEY REFERENCES RentalType (RentalTypeID) NOT NULL
)

CREATE TABLE ZIP
(
ZIP_ID int IDENTITY(0,1) NOT NULL PRIMARY KEY,
City VARCHAR(MAX) NOT NULL,
ZIP_Code int NOT NULL,
Country VARCHAR(MAX) NOT NULL,
Countrycode VARCHAR(MAX) NOT NULL
)

CREATE TABLE Customer
(
Email VARCHAR(50) PRIMARY KEY,
FisrtName VARCHAR(MAX) NOT NULL,
LastName VARCHAR(MAX) NOT NULL,
Address VARCHAR(MAX) NOT NULL,
PhoneNumber VARCHAR(MAX),
ZIP_ID INT FOREIGN KEY REFERENCES ZIP (ZIP_ID) NOT NULL
)

CREATE TABLE Payment
(
PaymentID int IDENTITY(0,1) NOT NULL PRIMARY KEY,
Amount FLOAT NOT NULL,
DatePayed DATE NOT NULL,
Description VARCHAR(MAX),
Email VARCHAR(50) FOREIGN KEY REFERENCES Customer (Email) NOT NULL
)

CREATE TABLE UserType
(
TypeID int IDENTITY(1,1) NOT NULL PRIMARY KEY,
TypeName VARCHAR(20) NOT NULL
)

CREATE TABLE Users
(
UserName VARCHAR(20) NOT NULL PRIMARY KEY,
PassPhrase VARCHAR(MAX) NOT NULL,
TypeID int FOREIGN KEY REFERENCES UserType (TypeID) NOT NULL
)

CREATE TABLE Employee
(
EmployeeID int IDENTITY(1,1) NOT NULL PRIMARY KEY,
FirstName VARCHAR(MAX) NOT NULL,
LastName VARCHAR(MAX) NOT NULL,
SocialSecurityNumber VARCHAR(MAX),
Address VARCHAR(MAX) NOT NULL,
PhoneNumber VARCHAR(MAX) NOT NULL,
ActiveEmployee BIT NOT NULL,
ZIP_ID int FOREIGN KEY REFERENCES ZIP (ZIP_ID) NOT NULL,
Email VARCHAR(MAX) NOT NULL,
UserName VARCHAR(20) FOREIGN KEY REFERENCES Users (UserName)
) 

CREATE TABLE Employment
(
EmploymentID int IDENTITY(1,1) NOT NULL PRIMARY KEY,
StartEmployementDate DATE NOT NULL,
EndEmploymentDate DATE NULL,
EmployeeID INT FOREIGN KEY REFERENCES Employee (EmployeeID) NOT NULL
)

CREATE TABLE Reservation
(
ReservationID int IDENTITY(1,1) NOT NULL PRIMARY KEY,
StartDate DATE NOT NULL,
EndDate DATE NOT NULL,
RentalUnitID INT FOREIGN KEY REFERENCES RentalUnit (RentalUnitID),
CheckOutDate DATE NULL,
Deposit FLOAT NULL,
Email VARCHAR(50) FOREIGN KEY REFERENCES Customer (Email),
TotalPrice FLOAT NOT NULL,
Pets BIT NOT NULL,
Paid BIT NOT NULL
)

CREATE TABLE RentedGEar
(
ReservationID INT FOREIGN KEY REFERENCES Reservation (ReservationID),
GearID INT FOREIGN KEY REFERENCES Gear (GearID),
CheckInDate DATE NULL,
CheckOutDate DATE NOT NULL
)
